{"version":3,"sources":["container/ecommerce/product/ProductDetails.js","redux/product/actionCreator.js"],"names":["DetailsRight","lazy","ProductDetails","match","dispatch","useDispatch","productDetails","useSelector","state","productDetail","loading","data","error","useEffect","productDetailsActionCreator","params","id","headless","className","gutter","xs","lg","fallback","active","product","ProductsBegin","actions","ProductsSuccess","ProductsErr","ProductDetailsBegin","ProductDetailsSuccess","ProductDetailsErr","filterProductBegin","filterProductSuccess","filterProductErr","sortingProductBegin","sortingProductSuccess","sortingProductErr","allProducts","a","axios","get","process","console","log","sorting","sortBy","setTimeout","initialState","sort","b","err","filterByPriceRange","range","filter","price","filterByRating","length","includes","rate","filterByBrand","brand","filterByCategory","category","updateWishList","map","popular"],"mappings":"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","file":"static/js/45.b033371f.chunk.js","sourcesContent":["import React, { useEffect, lazy, Suspense } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col, Skeleton } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport { Main } from '../../styled';\r\nimport { productDetailsActionCreator } from '../../../redux/product/actionCreator';\r\nimport { ProductDetailsWrapper } from '../Style';\r\nimport { Cards } from '../../../components/cards/frame/cards-frame';\r\n\r\nconst DetailsRight = lazy(() => import('./overview/DetailsRight'));\r\n\r\nconst ProductDetails = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const productDetails = useSelector((state) => state.productDetail)\r\n  const {loading, data, error} = productDetails\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(productDetailsActionCreator(match.params.id))\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      \r\n      <Main>\r\n        <Cards headless>\r\n          <ProductDetailsWrapper>\r\n            <div className=\"product-details-box\">\r\n              <Row gutter={30}>\r\n                \r\n                <Col xs={24} lg={14}>\r\n                  <Suspense\r\n                    fallback={\r\n                      <Cards headless>\r\n                        <Skeleton active />\r\n                      </Cards>\r\n                    }\r\n                  > {loading ? 'Loading...' : data ? <DetailsRight product={data} /> : error }\r\n                    \r\n                  </Suspense>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </ProductDetailsWrapper>\r\n        </Cards>\r\n      </Main>\r\n    </>\r\n  );\r\n};\r\n\r\nProductDetails.propTypes = {\r\n  match: PropTypes.object,\r\n};\r\n\r\nexport default ProductDetails;\r\n","import actions from './actions';\r\n// import initialState from '../../demoData/products.json';\r\nimport axios from 'axios'\r\n\r\nconst {\r\n  ProductsBegin,\r\n  ProductsSuccess,\r\n  ProductsErr,\r\n  \r\n  ProductDetailsBegin,\r\n  ProductDetailsSuccess,\r\n  ProductDetailsErr,\r\n\r\n  filterProductBegin,\r\n  filterProductSuccess,\r\n  filterProductErr,\r\n\r\n  sortingProductBegin,\r\n  sortingProductSuccess,\r\n  sortingProductErr,\r\n} = actions;\r\n\r\nconst allProducts = () => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(ProductsBegin())\r\n\r\n      const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/products`)\r\n\r\n      dispatch(ProductsSuccess(data))\r\n\r\n    } catch(err) {\r\n      dispatch(ProductsErr(err))\r\n    }\r\n  }\r\n};\r\n\r\nconst productDetailsActionCreator = (id) => {\r\n  return async dispatch => {\r\n    try{\r\n      dispatch(ProductDetailsBegin())\r\n\r\n      const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/product?id=${id}`)\r\n      console.log('action');\r\n      console.log(data);\r\n\r\n      dispatch(ProductDetailsSuccess(data))\r\n\r\n    } catch(err) {\r\n      dispatch(ProductDetailsErr(err))\r\n    }\r\n  }\r\n}\r\n\r\nconst sorting = sortBy => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(sortingProductBegin());\r\n      setTimeout(() => {\r\n        const data = initialState.sort((a, b) => {\r\n          return b[sortBy] - a[sortBy];\r\n        });\r\n        dispatch(sortingProductSuccess(data));\r\n      }, 100);\r\n    } catch (err) {\r\n      dispatch(sortingProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst filterByPriceRange = range => {\r\n  return async dispatch => {\r\n    dispatch(filterProductBegin());\r\n    try {\r\n      const data = initialState.filter(product => {\r\n        return product.price >= range[0] && product.price <= range[1];\r\n      });\r\n      dispatch(filterProductSuccess(data));\r\n    } catch (err) {\r\n      dispatch(filterProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst filterByRating = range => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(filterProductBegin());\r\n      setTimeout(() => {\r\n        const data = initialState.filter(product => {\r\n          if (range[0].length) {\r\n            return range[0].includes(product.rate);\r\n          }\r\n          return initialState;\r\n        });\r\n        dispatch(filterProductSuccess(data));\r\n      }, 100);\r\n    } catch (err) {\r\n      dispatch(filterProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst filterByBrand = brand => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(filterProductBegin());\r\n      setTimeout(() => {\r\n        const data = initialState.filter(product => {\r\n          if (brand[0].length) {\r\n            return brand[0].includes(product.brand);\r\n          }\r\n          return initialState;\r\n        });\r\n        dispatch(filterProductSuccess(data));\r\n      }, 100);\r\n    } catch (err) {\r\n      dispatch(filterProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nconst filterByCategory = category => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(filterProductBegin());\r\n      setTimeout(() => {\r\n        const data = initialState.filter(product => {\r\n          if (category !== 'all') {\r\n            return product.category === category;\r\n          }\r\n          return initialState;\r\n        });\r\n        dispatch(filterProductSuccess(data));\r\n      }, 100);\r\n    } catch (err) {\r\n      dispatch(filterProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nconst updateWishList = id => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(filterProductBegin());\r\n\r\n      initialState.map(product => {\r\n        if (product.id === id) {\r\n          return product.popular ? (product.popular = false) : (product.popular = true);\r\n        }\r\n        return dispatch(filterProductSuccess(initialState));\r\n      });\r\n    } catch (err) {\r\n      dispatch(filterProductErr(err));\r\n    }\r\n  };\r\n};\r\n\r\nexport {\r\n  allProducts,\r\n  productDetailsActionCreator,\r\n  sorting,\r\n  filterByPriceRange,\r\n  filterByRating,\r\n  filterByBrand,\r\n  filterByCategory,\r\n  updateWishList,\r\n};\r\n"],"sourceRoot":""}