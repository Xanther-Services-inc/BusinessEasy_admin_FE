{"version":3,"sources":["container/pages/AssignedProjectDetailsEmp.js","container/ecommerce/orders/FileListCard.js","../node_modules/rc-util/es/raf.js"],"names":["ProjectDetails","match","useSelector","state","auth","login","useState","orderDetails","setOrderDetails","useEffect","window","scrollTo","a","axios","get","process","params","id","data","console","log","fetchData","firstName","lastName","zip","endDate","dueDate","startDate","status","email","doc_key","country","product_id","price","gender","city","emp_assigned","dob","phone","pan","messages","setMessages","fetchMessage","useForm","form","fileName","setFileName","handleSubmit","values","fd","FormData","append","message","config","headers","url","post","location","reload","rightMessage","textAlign","paddingRight","leftMessage","marginLeft","gutter","xxl","xl","xs","headless","className","icon","size","onFinish","md","Item","name","placeholder","onChange","e","target","files","type","htmlType","title","map","doc","key","style","width","height","boxShadow","user","color","href","src","FileListCard","alt","cursor","onClick","raf","callback","setTimeout","caf","num","clearTimeout","wrapperRaf","requestAnimationFrame","handle","cancelAnimationFrame","cancel"],"mappings":"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","file":"static/js/36.e16896cc.chunk.js","sourcesContent":["import React, { lazy, Suspense, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Row, Col, Form, Input, Button, Progress, Spin } from 'antd';\nimport FeatherIcon from 'feather-icons-react';\nimport { Link, NavLink, Switch, Route } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport { ProjectDetailsWrapper, TaskLists } from '../ecommerce/orders/style';\nimport FileListCard from '../ecommerce/orders/FileListCard';\nimport { Main } from '../ecommerce/orders/styled'\nimport { Cards } from '../../components/cards/frame/cards-frame'\nimport axios from 'axios'\nimport { Scrollbars } from 'react-custom-scrollbars';\n\n\nconst ProjectDetails = ({ match }) => {\n  const userLogin = useSelector((state) => state.auth)\n    const {login} = userLogin\n\n\n  const [orderDetails, setOrderDetails] = useState({})\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n\n  useEffect(() => {\n    const fetchData = async () => {\n\n       let {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/order?id=${match.params.id}`)\n      console.log('order details');\n      console.log(data);\n      setOrderDetails(data)\n      }\n      fetchData() \n    }, [])\n\n   \n    const {firstName, lastName, zip, endDate, dueDate, startDate, status, email, doc_key, country, product_id, price, gender, state, city, emp_assigned, dob, id, phone, pan } = orderDetails\n\n    console.log(startDate);\n    \n    const [messages, setMessages] = useState([])\n\n    useEffect(() => {\n      const fetchMessage = async () => {\n        const {data} = await axios.get(`${process.env.REACT_APP_API}/api/v1/messages?order_id=${match.params.id}`)\n        console.log('message',data);\n        setMessages(data)\n      }\n      fetchMessage()\n    },[])\n\n    const [form] = Form.useForm();\n    const [fileName, setFileName] = useState('')\n    const onChangeFile = (e) => {\n      setFileName(e.target.files[0])\n      // console.log(e);\n  }\n\n  const handleSubmit = async (values) => {\n    var fd = new FormData()\n    fd.append('message', values.message)\n    fd.append('order_id', id)\n    fd.append('img', fileName)\n    fd.append('user', 'Employee')\n\n    const config = {\n      headers: {'content-type': 'multipart/form-data'}\n  }\n\n  const url = `${process.env.REACT_APP_API}/api/v1/message/send`;\n\n  const {data} = await axios.post(url, fd, config)\n      window.location.reload()\n  }\n\n  const rightMessage = {\n    textAlign: \"right\",\n    paddingRight: \"10px\"\n  }\n\n  const leftMessage = {\n    textAlign: \"left\",\n    marginLeft: \"10px\"\n  }\n\n  \n  return (\n    <ProjectDetailsWrapper>\n      <Main>\n     \n        <Row gutter={25}>\n          <Col xxl={6} xl={8} xs={24}>\n            \n            <Cards headless>\n            <h3>Customer Details</h3>\n            <hr />\n              <div className=\"state-single\">\n              <div className=\"color-secondary\">\n                  \n              <FeatherIcon icon=\"user\" size={25} />\n           \n          </div>\n                <div>\n                  <h5><strong>{firstName + ' ' + lastName + ' [' + gender + ']' }</strong></h5>\n                </div>\n              </div>\n              <div className=\"state-single\">\n                <div className=\"color-secondary\">\n                  \n                    <FeatherIcon icon=\"map-pin\" size={25} />\n                 \n                </div>\n                \n                <div>\n                  <p>{city + ', ' + state + ', ' + zip + ', ' + country}</p>\n                </div>\n              </div>\n              <div className=\"state-single\">\n                <div className=\"color-secondary\">\n                  \n                    <FeatherIcon icon=\"credit-card\" size={25} />\n                 \n                </div>\n                \n                <div>\n                  <p>PAN: {pan}</p>\n                </div>\n              </div>\n              <div className=\"state-single\">\n              <div className=\"color-warning\">\n                    <FeatherIcon icon=\"calendar\" size={25} />\n                  </div>\n                <div>\n                  <p>{dob}</p>\n                </div>\n              </div>\n              <div className=\"state-single\">\n                <div className=\"color-warning\">\n                 \n                    <FeatherIcon icon=\"at-sign\" size={25} />\n              \n                </div>\n                <div>\n                  <p>{email}</p>\n                </div>\n              </div>\n              <div className=\"state-single\">\n                <div className=\"color-warning\">\n                 \n                    <FeatherIcon icon=\"phone\" size={25} />\n              \n                </div>\n                <div>\n                  <p>{phone}</p>\n                </div>\n              </div>\n            </Cards>\n             {/* new */}\n            <Cards headless>\n              <h3>Make a Conversation</h3>\n              <hr />\n              <Form onFinish={handleSubmit} form={form} >\n              <Row gutter={30}>\n                <Col md={20} xs={20}>\n                  <Form.Item name='message'>\n                    <Input placeholder='Type your message..' />\n                  </Form.Item>\n                </Col>\n                <Col md={20} xs={20}>\n                <input fileName='image' name='img' onChange={onChangeFile} type='file' />\n                <br />\n                </Col>\n              </Row>\n              <div className=\"sDash_form-action mt-20\">\n                  \n                      <Button htmlType=\"submit\" type=\"primary\" size=\"large\">\n                        Send\n                      </Button>\n                    </div>\n              </Form>\n            </Cards>\n            {/* new */}\n          </Col>\n          <Col xxl={12} xl={16} xs={24}>\n            <div className=\"about-project-wrapper\">\n              <Cards title=\"Order Details\">\n                <div className=\"about-content\">\n                <p>Order Id: {id}</p>\n                  <p>Product: {product_id}</p>\n                  <p>Price: 💰 {price}</p>\n                  <p>Assigned employee: {emp_assigned}</p>\n                </div>\n                \n                <div className=\"about-project\">\n                  <div>\n                    <span>Ordered by</span>\n                    <p>{firstName + ' ' + lastName}</p>\n                  </div>\n                  <div>\n                    <span>Due Date</span>\n                    <p>{dueDate || 'NA'}</p>\n                  </div>\n                  <div>\n                    <span>Start Date</span>\n                    <p className=\"color-primary\">{startDate}</p>\n                  </div>\n                  <div>\n                    <span>Deadline</span>\n                    <p className=\"color-danger\">{endDate || 'NA'}</p>\n                  </div>\n                  <div>\n                    <span>Status</span>\n                    <p className=\"color-danger\">{status}</p>\n                  </div>\n                  <div>\n                    <span>Assigned Employee</span>\n                    <p className=\"color-danger\">{emp_assigned || 'NA'}</p>\n                  </div>\n                  \n                </div>\n                </Cards>\n                <div>\n                  <h3>Attached Documents</h3>\n                {console.log(doc_key)}\n                  {\n                    doc_key ? doc_key.map((doc) => (\n                      <FileListCard key={doc} doc={doc} />\n\n                    )) : []\n                  }\n                </div>\n                {/* new */}\n               <Cards title=\"Conversations\">\n               <Scrollbars style={{ width: 500, height: 300, boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\" }}>\n                {messages.map((message) => (\n                \n                <>\n                 \n                <div style={ message.user === firstName ? leftMessage : rightMessage}>\n                <div>\n                  <p style={{color: '#0a8dff'}}>@{message.user}</p> \n                  {message.message !== 'undefined' ? <h5>{message.message}</h5> : null}\n                \n                  {message.doc_key !== \"sample.jpg\" ? <a href={`https://order-message.s3.us-east-2.amazonaws.com/${message.doc_key}`} target='_blank'><img src={`https://order-message.s3.us-east-2.amazonaws.com/${message.doc_key}`} style={{height: \"7rem\", width: \"60%\"}}></img></a> : null}\n                  \n                </div>\n                </div>\n                  <br />  \n                </>                \n                ))}\n                </Scrollbars>\n               </Cards>\n                {/* new */}\n            </div>\n          </Col>\n          \n        </Row>\n      </Main>\n    </ProjectDetailsWrapper>\n  );\n};\n\nProjectDetails.propTypes = {\n  match: propTypes.object,\n};\n\nexport default ProjectDetails;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport FeatherIcon from 'feather-icons-react';\nimport { Cards } from '../../../components/cards/frame/cards-frame';\nimport {Image} from 'antd'\n// import { Dropdown } from '../../home/OrderCreate/dependency/dropdown';\n\nconst FileListCard = ({doc}) => {\n\n  const download = () => {\n    window.location.href = doc\n  }\n  return (\n    <Cards>\n      <div className=\"file-list\">\n        <div className=\"file-list__single d-flex\">\n          <div className=\"file-single-info d-flex\">\n            <div className=\"file-single-logo\">\n              <Image src={doc} alt=\"File Logo\" height={40} width={80} style={{cursor: 'pointer'}} />\n            </div>\n            <div className=\"file-single__content\">\n              <span className=\"file-name\">PAN</span>\n              \n              <span className=\"file-content-action\">\n              <Link onClick={download}>Download</Link>\n              </span>\n            </div>\n          </div>\n         \n        </div>\n        \n      </div>\n    </Cards>\n  );\n};\n\nexport default FileListCard;\n","var raf = function raf(callback) {\n  return +setTimeout(callback, 16);\n};\n\nvar caf = function caf(num) {\n  return clearTimeout(num);\n};\n\nif (typeof window !== 'undefined' && 'requestAnimationFrame' in window) {\n  raf = function raf(callback) {\n    return window.requestAnimationFrame(callback);\n  };\n\n  caf = function caf(handle) {\n    return window.cancelAnimationFrame(handle);\n  };\n}\n\nexport default function wrapperRaf(callback) {\n  return raf(callback);\n}\nwrapperRaf.cancel = caf;"],"sourceRoot":""}